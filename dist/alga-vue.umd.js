!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("vue"),require("alga-js")):"function"==typeof define&&define.amd?define(["exports","vue","alga-js"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self)["alga-vue"]={},e.Vue,e.AlgaJS)}(this,(function(e,a,u){"use strict";e.handleCalendar=function(e=null,l=null,t=null,v={value:"en-US"},n={value:"short"},r={value:"long"}){const o=a.ref(0),s=a.ref(0),d=a.ref(0),m=a.ref(0),g=a.ref(0),D=a.ref(""),f=a.ref(0);o.value=null!==e&&0!==e.value?e.value:Number((new Date).getFullYear()),s.value=null!==l&&0!==l.value?l.value:Number((new Date).getMonth())+1,d.value=null!==t&&0!==t.value?t.value:(new Date).getDate();const c=a.computed((()=>{const e=0!==m.value?m.value:1980,a=0!==g.value?g.value:Number((new Date).getFullYear())+5;return u.number.loop(e,a)})),y=a.computed((()=>u.date.months(v.value,r.value))),p=a.computed((()=>u.date.days(v.value,n.value))),b=a.computed((()=>u.date.week(o.value,s.value,d.value)));f.value=b.value;const h=a.computed((()=>{let e="";return e="daily"===D.value?`${p.value[new Date(o.value,Number(s.value)-1,d.value).getDay()]}, ${d.value} ${y.value[new Date(o.value,Number(s.value)-1).getMonth()]} ${o.value}`:"weekly"===D.value?`Week ${f.value}`:"yearly"===D.value?`${o.value}`:`${y.value[new Date(o.value,Number(s.value)-1).getMonth()]} ${o.value}`,e}));return{setYearRef:o,setMonthRef:s,setDayRef:d,setWeeks:f,setCalendarType:D,startYear:m,endYear:g,getRangeYears:c,getMonthNames:y,getDayNames:p,getWeeks:b,getCalendarTitle:h,handleYear:e=>{o.value="prev"===e?o.value-1:"next"===e?o.value+1:(new Date).getFullYear()},handleMonth:e=>{"prev"===e?s.value>1&&s.value<=12?s.value=s.value-1:1===s.value&&(s.value=12,o.value=o.value-1):"next"===e?s.value>=1&&s.value<12?s.value=s.value+1:12===s.value&&(s.value=1,o.value=o.value+1):(s.value=Number((new Date).getMonth())+1,o.value=(new Date).getFullYear())},handleWeek:e=>{"prev"===e?1!==f.value?f.value=f.value-1:f.value=52:"next"===e?52!==f.value?f.value=f.value+1:f.value=1:f.value=b.value},handleDay:e=>{"prev"===e?1!==d.value?d.value=d.value-1:(d.value=Number(u.date.daysInMonth(o.value,Number(s.value)-1)),s.value>1&&s.value<=12?s.value=s.value-1:1===s.value&&(s.value=12,o.value=o.value-1)):"next"===e?d.value!==Number(u.date.daysInMonth(o.value,s.value))?d.value=d.value+1:(d.value=1,s.value>=1&&s.value<12?s.value=s.value+1:12===s.value&&(s.value=1,o.value=o.value+1)):(s.value=Number((new Date).getMonth())+1,o.value=(new Date).getFullYear(),d.value=(new Date).getDate())}}},e.useCalendar=function(e=null,l=null,t=null,v={value:"en-US"},n={value:"short"}){const r=a.ref(0),o=a.ref(0),s=a.ref(0),d=a.ref(0),m=a.ref([]),g=a.reactive({dateEvent:"startdate"});r.value=null!==e&&0!==e.value?e.value:Number((new Date).getFullYear()),o.value=null!==l&&0!==l.value?l.value:Number((new Date).getMonth())+1,s.value=null!==t&&0!==t.value?t.value:Number((new Date).getDate());const D=a.computed((()=>u.date.days(v.value,n.value))),f=a.computed((()=>u.date.week(r.value,o.value,s.value)));d.value=f.value;const c=a.computed((()=>u.date.weeks(r.value,d.value,"YYYY-MM-DD"))),y=a.computed((()=>{const e=Number(new Date(r.value,Number(o.value)-1,1).getDay());let a=[];if(e>0){for(let l=Number(u.date.daysInMonth(r.value,Number(o.value)-1))-(e-1);l<=Number(u.date.daysInMonth(r.value,Number(o.value)-1));l++)a.push(l)}return a})),p=a.computed((()=>u.date.daysInMonth(r.value,o.value))),b=a.computed((()=>{const e=Number(new Date(r.value,Number(o.value)-1,Number(u.date.daysInMonth(r.value,o.value))).getDay());let a=[];if(e<6){const u=6-e;for(let e=1;e<=u;e++)a.push(e)}return a})),h=Number(new Date(r.value,Number(o.value)-1,s.value).getDay()),N=a.computed((()=>{let e=[];if(h>0){const a=h+1;for(let l=1;l<a;l++)e.push(u.date.subtractDate(new Date(r.value,Number(o.value)-1,s.value),l),"YYYY-MM-DD")}return e})),i=a.computed((()=>{let e=[];if(h<6){const a=6-h;for(let l=1;l<=a;l++)e.push(u.date.addDate(new Date(r.value,Number(o.value)-1,s.value),l),"YYYY-MM-DD")}return e})),w=a.computed((()=>m.value.length>=1?u.array.group(m.value,(e=>{if(g.dateEvent in e)return new Date(e[g.dateEvent]).getDate()})):[])),M=a.computed((()=>m.value.length>=1?u.array.group(m.value,(e=>{if(g.dateEvent in e)return new Date(e[g.dateEvent]).getHours()})):[]));return{setYearRef:r,setMonthRef:o,setDayRef:s,setWeeks:d,getWeeks:f,getWeekDays:c,getDayNames:D,getPrevDays:y,getMonthDays:p,getNextDays:b,getBeforeDays:N,getAfterDays:i,setEvents:m,getEvents:w,getEventsByTime:M}},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
